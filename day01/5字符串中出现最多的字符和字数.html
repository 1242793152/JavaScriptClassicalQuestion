<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>
<body>
  <script>
    /*
    hellojavascripthellohtmlhtllocss
    次数最多的的字符串是l，出现的次数为7次
    */ 
  //  方法一： 
  //  function getMaxCount(str){
  //   let arr = str.split('')
  //   let obj = {}
  //   for(let i =0;i<str.length;i++){
  //     if(obj[str.split('')[i]]){
  //       obj[str.split('')[i]] ++
  //     }else{
  //       obj[str.split('')[i]] = 1
  //     }
  //   }
  //   let max = 0
  //   let character = null
  //   //下面的方法写麻烦了
  //   // let obj_arr = Object.keys(obj)
  //   // for(let i=0;i<obj_arr.length;i++){
  //   //   // console.log(obj_arr[i])
  //   //   // console.log(obj[obj_arr[i]])
  //   //   if(obj[obj_arr[i]]>max){
  //   //     max = obj[obj_arr[i]]
  //   //     character = obj_arr[i]
  //   //   }
  //   // }
  //   // for(var key in obj){
  //   //   console.log(key)   // 对象的键
  //   // }
  //   // for(let key in arr){
  //   //   console.log(key)    // 数组的索引
  //   // }
  //   console.log(max)
  //   console.log(character)
  //  }
  //  getMaxCount('hellojavascripthellohtmlhtllocss')
  
  //  方法二：1. 字符串处理成一个数组，调用sort()排序，再转变成字符串
  // 2.遍历每个字符，调用lastIndexOf()方法，然后末减头就是其长度
  /*
  例如：  ‘aacccddddffffffgggg’.lastIndexOf('f') ==  14    -  ‘aacccddddffffffgggg’.indexOf('f') == 9  14-9+1 =6
  */ 
//   function getMaxCount(str){
//     let maxCount = 0;
//     var maxCountChar = ''
//     str = str.split('').sort().join('')
//     console.log(str)
//     for(var i = 0,j = str.length;i<j;i++){
//       var char = str.charAt(i);
//       var charCount = str.lastIndexOf(char) - i + 1   // var charCount = str.lastIndexOf(char) - str.indexOf(char) +1 
//       if(charCount >maxCount){
//         maxCount = charCount;
//         maxCountChar = char
//       }
//       i = str.lastIndexOf(char)
//     }
//     return {maxCountChar,
//       maxCount
//     }
//   }
// console.log(getMaxCount('hellojavascripthellohtmlhtllocss'))

/*
 方法三： 使用字符串的replaceAll()方法  或者使用replace() 然后使用正则表达式来使用
 'aabbccddffffgggggghhhhhhhhhj' .replaceAll('a','') 返回一个新字符串   不改变原来的字符串
*/
// let old_str = 'aabbccddffffgggggghhhhhhhhhj'
// let new_str = old_str.replace(/a/g,'')
// console.log(old_str.length,new_str.length)

// function getMaxCount(str){
//     let maxCount = 0;
//     var maxCountChar = ''
//     while(str){
//     var length = str.length
//     var char = str.charAt(0);
//     str = str.replaceAll(char,'')
//     var remain_length = str.length
//     var final_length = length - remain_length
//     if(final_length>maxCount){
//       maxCount = final_length
//       maxCountChar = char
//     }
//   }
//     return {
//       maxCount,
//       maxCountChar
//     }
// }
// console.log(getMaxCount('hellojavascripthellohtmlhtllocss'))

/*
方法四使用indexOf
*/
var str = 'To be, or not to be, that is the question.';
var count = 0;
var pos = str.indexOf('e')
while(pos!=-1){
  count++
  pos=str.indexOf('e',pos+1)   // indexOf('要查找的字符'，'查找开始的位置')
}
console.log(count)
  </script>
</body>
</html>